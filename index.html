<button id="btn1">Click Me</button>

<script>

  function scheduleWork() {
    Promise.resolve().then(() => console.log('m1'));
    Promise.resolve().then(() => console.log('m2'));
    setTimeout(() => console.log('t1'), 0);
    setTimeout(() => {
      Promise.resolve().then(() => console.log('m3'))
      Promise.resolve().then(() => console.log('m4'))
      Promise.resolve().then(() => console.log('m5'))
    }, 0);
    setTimeout(() => console.log('t2'), 0);
    setTimeout(() => console.log('t3'), 0);

  };

  const btn = document.getElementById('btn1');
  btn.addEventListener('click', scheduleWork, false);

</script>